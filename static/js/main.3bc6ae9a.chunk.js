(this.webpackJsonpreact_redux_tetris=this.webpackJsonpreact_redux_tetris||[]).push([[0],{15:function(e,t,n){e.exports=n(28)},20:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(8),o=n.n(i),c=(n(20),n(1)),u=n(2),s=n(3),l=n(4),m=n(7),p=n(5),f=n(6),v=function(){return{type:"MOVE_RIGHT"}},g=function(){return{type:"MOVE_LEFT"}},h=function(){return{type:"ROTATE"}},b=function(){return{type:"MOVE_DOWN"}},d=function(){return{type:"PAUSE"}},O=function(){return{type:"RESUME"}},E=function(){return{type:"RESTART"}},j=n(14),y=function(){for(var e=[],t=0;t<18;t++){e.push([]);for(var n=0;n<10;n++)e[t].push(0)}return e},R=[[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]],[[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]]],[[[0,0,0,0],[1,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,1,0,0],[1,1,0,0],[0,1,0,0],[0,0,0,0]],[[0,1,0,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]],[[0,1,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]]],[[[0,0,0,0],[1,1,1,0],[1,0,0,0],[0,0,0,0]],[[1,1,0,0],[0,1,0,0],[0,1,0,0],[0,0,0,0]],[[0,0,1,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]],[[0,1,0,0],[0,1,0,0],[0,1,1,0],[0,0,0,0]]],[[[1,0,0,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]],[[0,1,1,0],[0,1,0,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[1,1,1,0],[0,0,1,0],[0,0,0,0]],[[0,1,0,0],[0,1,0,0],[1,1,0,0],[0,0,0,0]]],[[[0,0,0,0],[1,1,0,0],[0,1,1,0],[0,0,0,0]],[[0,0,1,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]]],[[[0,0,0,0],[0,1,1,0],[1,1,0,0],[0,0,0,0]],[[0,1,0,0],[0,1,1,0],[0,0,1,0],[0,0,0,0]]],[[[0,1,1,0],[0,1,1,0],[0,0,0,0],[0,0,0,0]]]],k=function(e,t){return(t+1)%R[e].length},T=function(e,t,n,r,a){for(var i=R[e][a],o=0;o<i.length;o++)for(var c=0;c<i[o].length;c++)if(0!==i[o][c]){var u=c+n,s=o+r;if(s<0)continue;var l=t[s];if(!l)return!1;if(void 0===l[u]||0!==l[u])return!1}return!0},N=function(){return e=1,t=R.length-1,Math.floor(Math.random()*(t-e+1))+e;var e,t},x=function(){return{grid:y(),shape:N(),rotation:0,x:5,y:-4,nextShape:N(),isRunning:!0,score:0,speed:1e3,gameOver:!1}},A=function(e,t,n,r,a){for(var i=!1,o=R[e][a],c=Object(j.a)(t),u=0;u<o.length;u++)for(var s=0;s<o[u].length;s++){if(o[u][s])u+r<0?i=!0:c[u+r][s+n]=e}return{grid:c,gameOver:i}},C=function(e){for(var t=0,n=0;n<e.length;n++)-1===e[n].indexOf(0)&&(t+=1,e.splice(n,1),e.unshift(Array(10).fill(0)));return[0,40,100,300,1200][t]},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x(),t=arguments.length>1?arguments[1]:void 0,n=e.shape,r=e.grid,a=e.x,i=e.y,o=e.rotation,c=e.nextShape,u=e.score,s=e.isRunning;switch(t.type){case"ROTATE":var l=k(n,o);return T(n,r,a,i,l)?Object(f.a)({},e,{rotation:l}):e;case"MOVE_RIGHT":return T(n,r,a+1,i,o)?Object(f.a)({},e,{x:a+1}):e;case"MOVE_LEFT":return T(n,r,a-1,i,o)?Object(f.a)({},e,{x:a-1}):e;case"MOVE_DOWN":var m=i+1;if(T(n,r,a,m,o))return Object(f.a)({},e,{y:m});var p=A(n,r,a,i,o),v=p.grid,g=p.gameOver;if(g){var h=Object(f.a)({},e);return h.shape=0,h.grid=v,Object(f.a)({},e,{gameOver:!0})}var b=x();return b.grid=v,b.shape=c,b.score=u,b.isRunning=s,b.score=u+C(v),b;case"RESUME":return Object(f.a)({},e,{isRunning:!0});case"PAUSE":return Object(f.a)({},e,{isRunning:!1});case"GAME_OVER":return e;case"RESTART":return x();default:return e}},w=Object(m.b)({game:M}),S=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e="grid-square color-".concat(this.props.color);return a.a.createElement("div",{className:e})}}]),n}(r.Component),_=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).lastUpdateTime=0,r.progressTime=0,r}return Object(u.a)(n,[{key:"makeGrid",value:function(){var e=this.props,t=e.grid,n=e.shape,r=e.rotation,i=e.x,o=e.y,c=R[n][r],u=n;return t.map((function(e,n){return e.map((function(e,r){var s=r-i,l=n-o,m=e;s>=0&&s<c.length&&l>=0&&l<c.length&&(m=0===c[l][s]?m:u);var p=n*t[0].length+r;return a.a.createElement(S,{key:p,square:e,color:m},e)}))}))}},{key:"update",value:function(e){if(window.requestAnimationFrame(this.update.bind(this)),this.props.isRunning){this.lastUpdateTime||(this.lastUpdateTime=e);var t=e-this.lastUpdateTime;this.progressTime+=t,this.progressTime>this.props.speed&&(this.props.moveDown(),this.progressTime=0),this.lastUpdateTime=e}}},{key:"componentDidMount",value:function(){window.requestAnimationFrame(this.update.bind(this))}},{key:"render",value:function(){return a.a.createElement("div",{className:"grid-board"},this.makeGrid())}}]),n}(r.Component),U=Object(p.b)((function(e){return{grid:e.game.grid,shape:e.game.shape,rotation:e.game.rotation,x:e.game.x,y:e.game.y,speed:e.game.speed,isRunning:e.game.isRunning}}),{moveDown:b})(_),D=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"makeGrid",value:function(){var e=this.props.shape,t=R[e][0];return R[0][0].map((function(n,r){return n.map((function(n,i){var o=0===t[r][i]?0:e;return a.a.createElement(S,{key:"".concat(r).concat(i),color:o})}))}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"next-block"},this.makeGrid())}}]),n}(r.Component),G=Object(p.b)((function(e){return{shape:e.game.nextShape}}))(D),V=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isRunning,n=e.score,r=e.resume,i=e.pause,o=e.restart,c=e.gameOver;return a.a.createElement("div",{className:"score-board"},a.a.createElement("div",null,"Score:",n),a.a.createElement("div",null,"Level: 1"),a.a.createElement("button",{className:"score-board-button",onClick:function(e){c||(t?i():r())}},t?"Pause":"Resume"),a.a.createElement("button",{className:"score-board-button",onClick:function(e){o()}},"Restart"))}}]),n}(r.Component),L=Object(p.b)((function(e){return{score:e.game.score,isRunning:e.game.isRunning,gameOver:e.game.gameOver}}),{pause:d,resume:O,restart:E})(V),q=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.isRunning,r=t.gameOver;return a.a.createElement("div",{className:"controls"},a.a.createElement("button",{className:"control-button",onClick:function(t){console.log(n,r),n&&!r&&e.props.moveLeft()}},"Left"),a.a.createElement("button",{className:"control-button",onClick:function(t){n&&!r&&e.props.moveRight()}},"Right"),a.a.createElement("button",{className:"control-button",onClick:function(t){n&&!r&&e.props.rotate()}},"Rotate"),a.a.createElement("button",{className:"control-button",onClick:function(t){n&&!r&&e.props.moveDown()}},"Down"))}}]),n}(r.Component),F=Object(p.b)((function(e){return{isRunning:e.game.isRunning,gameOver:e.game.gameOver}}),{moveRight:v,moveLeft:g,moveDown:b,rotate:h})(q),P=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.gameOver,n=e.isRunning,r="",i="hidden";return t?(r="Game Over",i=""):n?r="???":(r="Paused",i=""),a.a.createElement("div",{className:"message-popup ".concat(i)},a.a.createElement("h1",null,r),a.a.createElement("p",null))}}]),n}(r.Component),I=Object(p.b)((function(e){return{gameOver:e.game.gameOver,isRunning:e.game.isRunning}}),{})(P),H=(n(27),Object(m.c)(w)),J=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement(p.a,{store:H},a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",{className:"App-title"},"Tetris Redux")),a.a.createElement(U,null),a.a.createElement(G,null),a.a.createElement(L,null),a.a.createElement(F,null),a.a.createElement(I,null)))}}]),n}(r.Component);o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(J,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.3bc6ae9a.chunk.js.map